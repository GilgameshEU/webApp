<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Users</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous" />
    <script type="text/javascript">
      function checkUncheck(checkBox) {
        get = document.getElementsByName("childChb");
        for (var i = 0; i < get.length; i++) {
          get[i].checked = checkBox.checked;
        }
      }
    </script>
  </head>
  <body>
    <form method="POST">
      <div class="table-data">
        <button
          type="submit"
          formaction="/users/groupDelete"
          class="btn btn-danger btn-sm">
          Delete
        </button>
        <button
          type="submit"
          formaction="/users/groupUnblock"
          class="btn btn-danger btn-sm">
          Unblock
        </button>
        <button
          type="submit"
          formaction="/users/groupBlock"
          class="btn btn-danger btn-sm">
          Block
        </button>
        <h2>Display Users list</h2>
        <table class="table table-bordered">
          <tr>
            <th>
              Select all<input
                type="checkbox"
                name="mainCb"
                onchange="checkUncheck(this)"
                unchecked />
            </th>
            <th>username</th>
            <th>mail</th>
            <th>createdAt</th>
            <th>lastLogin</th>
            <th>status</th>
          </tr>
          <% if(userData.length!=0){ var i=1; userData.forEach(function(data){ %>
          <tr>
            <td>
              <input
                type="checkbox"
                value="<%=data.id%>"
                name="childChb" />
            </td>
            <td><%=data.username %></td>
            <td><%=data.mail %></td>
            <td><%=data.createdAt %></td>
            <td><%=data.lastLogin %></td>
            <td><%=data.status %></td>
          </tr>
          <% i++; }) %> <% } else{ %>
          <tr>
            <td colspan="6">No Data Found</td>
          </tr>
          <% } %>
        </table>
      </div>
    </form>
  </body>
</html>
